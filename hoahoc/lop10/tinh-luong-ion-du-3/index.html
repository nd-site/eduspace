<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>H·ªçc t·∫≠p t∆∞∆°ng t√°c - EduSpace by ND Labs</title>
    <link rel="icon" href="/logo.png" type="image/x-icon">
    <style>
        :root {
            --primary-blue: #3a86ff;
            --soft-blue: #eef5ff;
            --success-green: #38b000;
            --error-red: #d00000;
            --text-main: #2b2d42;
        }

        body {
            font-family: 'Segoe UI', Arial, sans-serif;
            background-color: #f0f4f8;
            color: var(--text-main);
            display: flex;
            justify-content: center;
            padding: 40px 20px;
            margin: 0;
        }

        .app-container {
            background: white;
            max-width: 700px;
            width: 100%;
            border-radius: 24px;
            padding: 40px;
            box-shadow: 0 10px 30px rgba(58, 134, 255, 0.1);
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
        }

        .logo { max-width: 100px; margin-bottom: 10px; }

        .progress-bar {
            height: 8px;
            background: #e0e0e0;
            border-radius: 4px;
            margin-bottom: 30px;
            overflow: hidden;
        }

        #progress-fill {
            height: 100%;
            background: var(--primary-blue);
            width: 0%;
            transition: width 0.5s ease;
        }

        .question-section h2 {
            color: var(--primary-blue);
            font-size: 1.4rem;
            margin-top: 0;
        }

        .input-group {
            margin: 20px 0;
            display: flex;
            gap: 10px;
        }

        input[type="number"] {
            flex: 1;
            padding: 12px 20px;
            border: 2px solid var(--soft-blue);
            border-radius: 12px;
            font-size: 1rem;
            outline: none;
        }

        input[type="number"]:focus { border-color: var(--primary-blue); }

        button {
            padding: 12px 25px;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.2s;
        }

        .btn-submit { background: var(--primary-blue); color: white; }
        .btn-next { background: var(--success-green); color: white; display: none; margin-top: 15px; }

        .feedback-area {
            margin-top: 25px;
            padding: 20px;
            border-radius: 16px;
            display: none;
            animation: fadeIn 0.5s;
        }

        .feedback-correct { background: #d8f3dc; border: 1px solid var(--success-green); }
        .feedback-wrong { background: #ffd6d6; border: 1px solid var(--error-red); }

        .knowledge-box {
            margin-top: 15px;
            font-size: 0.95rem;
            border-left: 4px solid var(--primary-blue);
            padding-left: 15px;
            color: #555;
        }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
    <script src="/nd-navbar.js" defer></script></head>
<body>

<div class="app-container">
    <div class="header">
        <img src="/logo.png" alt="EduSpace Logo" class="logo">
        <div style="font-weight: bold; color: #888;">EduSpace by ND Labs</div>
    </div>

    <div class="progress-bar"><div id="progress-fill"></div></div>

    <div id="quiz-content">
        </div>
</div>

<script>
    const questions = [
        {
            title: "B√†i 1: Ki·ªÉm so√°t Sodium (Na+)",
            content: "M·ªôt g√≥i m√¨ ƒÉn li·ªÅn ch·ª©a 1,8g Na+. Gi·ªõi h·∫°n khuy·∫øn c√°o l√† 2300mg/ng√†y. N·∫øu ƒÉn 2 g√≥i m√¨, l∆∞·ª£ng Na+ v∆∞·ª£t qu√° gi·ªõi h·∫°n bao nhi√™u %? (L√†m tr√≤n ƒë·∫øn ch·ªØ s·ªë th·∫≠p ph√¢n th·ª© nh·∫•t)",
            answer: 56.5,
            unit: "%",
            explanation: "2 g√≥i m√¨ ch·ª©a: 1,8g x 2 = 3,6g = 3600mg. L∆∞·ª£ng v∆∞·ª£t qu√°: 3600 - 2300 = 1300mg. Ph·∫ßn trƒÉm v∆∞·ª£t: (1300 / 2300) x 100 ‚âà 56,5%.",
            knowledge: "<b>C∆° b·∫£n:</b> 1g = 1000mg. <br><b>N√¢ng cao:</b> Ion Na+ gi·ªØ n∆∞·ªõc trong m√°u, n·∫°p qu√° nhi·ªÅu g√¢y √°p l·ª±c l√™n th√†nh m·∫°ch d·∫´n ƒë·∫øn cao huy·∫øt √°p."
        },
        {
            title: "B√†i 2: N·ªìng ƒë·ªô dung d·ªãch ƒë∆∞·ªùng",
            content: "M·ªôt lon n∆∞·ªõc ng·ªçt 330ml c√≥ n·ªìng ƒë·ªô ƒë∆∞·ªùng l√† 10% (kh·ªëi l∆∞·ª£ng/th·ªÉ t√≠ch). ƒê·ªÉ kh√¥ng qu√° gi·ªõi h·∫°n 50g ƒë∆∞·ªùng/ng√†y, b·∫°n ch·ªâ ƒë∆∞·ª£c u·ªëng t·ªëi ƒëa bao nhi√™u ml lo·∫°i n∆∞·ªõc n√†y? (L√†m tr√≤n s·ªë nguy√™n)",
            answer: 500,
            unit: "ml",
            explanation: "N·ªìng ƒë·ªô 10% nghƒ©a l√† 100ml c√≥ 10g ƒë∆∞·ªùng. ƒê·ªÉ c√≥ 50g ƒë∆∞·ªùng, th·ªÉ t√≠ch c·∫ßn l√†: (50 / 10) x 100 = 500ml.",
            knowledge: "<b>C∆° b·∫£n:</b> C% (w/v) = (m ch·∫•t tan / V dung d·ªãch) x 100. <br><b>Th·ª±c t·∫ø:</b> M·ªôt lon n∆∞·ªõc ng·ªçt th∆∞·ªùng ƒë√£ chi·∫øm 2/3 l∆∞·ª£ng ƒë∆∞·ªùng cho ph√©p c·∫£ ng√†y."
        }
    ];

    let currentStep = 0;

    function renderQuestion() {
        const q = questions[currentStep];
        const progress = ((currentStep) / questions.length) * 100;
        document.getElementById('progress-fill').style.width = progress + "%";

        const html = `
            <div class="question-section">
                <h2>${q.title}</h2>
                <p class="problem-text">${q.content}</p>
                <div class="input-group">
                    <input type="number" id="user-input" placeholder="Nh·∫≠p k·∫øt qu·∫£...">
                    <span>${q.unit}</span>
                </div>
                <button class="btn-submit" onclick="checkAnswer()">N·ªôp b√†i</button>
                
                <div id="feedback" class="feedback-area">
                    <strong id="status-text"></strong>
                    <p id="explanation-text"></p>
                    <div class="knowledge-box" id="knowledge-text"></div>
                    <button class="btn-next" id="next-btn" onclick="nextQuestion()">C√¢u ti·∫øp theo ‚Üí</button>
                </div>
            </div>
        `;
        document.getElementById('quiz-content').innerHTML = html;
    }

    function checkAnswer() {
        const userVal = parseFloat(document.getElementById('user-input').value);
        const q = questions[currentStep];
        const feedback = document.getElementById('feedback');
        const status = document.getElementById('status-text');
        
        feedback.style.display = "block";
        
        if (Math.abs(userVal - q.answer) < 0.2) {
            status.innerHTML = "‚úÖ Ch√≠nh x√°c!";
            feedback.className = "feedback-area feedback-correct";
        } else {
            status.innerHTML = "‚ùå Ch∆∞a ƒë√∫ng!";
            feedback.className = "feedback-area feedback-wrong";
        }

        document.getElementById('explanation-text').innerHTML = "<b>Gi·∫£i th√≠ch:</b> " + q.explanation;
        document.getElementById('knowledge-text').innerHTML = q.knowledge;
        document.getElementById('next-btn').style.display = "block";
    }

    function nextQuestion() {
        currentStep++;
        if (currentStep < questions.length) {
            renderQuestion();
        } else {
            document.getElementById('progress-fill').style.width = "100%";
            document.getElementById('quiz-content').innerHTML = `
                <div style="text-align:center">
                    <h2>üéâ Ho√†n th√†nh b√†i h·ªçc!</h2>
                    <p>B·∫°n ƒë√£ n·∫Øm v·ªØng ki·∫øn th·ª©c v·ªÅ n·ªìng ƒë·ªô v√† ·ª©ng d·ª•ng th·ª±c t·∫ø.</p>
                    <button class="btn-submit" onclick="location.reload()">Luy·ªán t·∫≠p l·∫°i</button>
                </div>`;
        }
    }

    // Kh·ªüi t·∫°o c√¢u ƒë·∫ßu ti√™n
    renderQuestion();
</script>

</body>
</html>
